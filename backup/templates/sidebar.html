<!-- Sidebar Navigation -->
<aside id="sidebar" class="w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col fixed h-screen lg:relative lg:h-auto overflow-y-auto lg:overflow-y-visible">
    <!-- Logo -->
    <div class="p-6 border-b border-gray-200 dark:border-gray-700 lg:block hidden">
        <div class="flex items-center">
            <div class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center">
                <i class="fas fa-rocket text-white"></i>
            </div>
            <span class="ml-3 font-bold text-gray-900 dark:text-white">AutoPost</span>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 px-4 py-6 space-y-2">
        <a href="{{ url_for('dashboard.index') }}" class="nav-item flex items-center px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 transition {% if request.endpoint == 'dashboard.index' %}bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400{% endif %}">
            <i class="fas fa-chart-line w-5"></i>
            <span class="ml-3">Dashboard</span>
        </a>

        <a href="{{ url_for('composer.compose') }}" class="nav-item flex items-center px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 transition {% if request.endpoint == 'composer.compose' %}bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400{% endif %}">
            <i class="fas fa-pen-fancy w-5"></i>
            <span class="ml-3">Compose</span>
        </a>

        <a href="{{ url_for('composer.schedule') }}" class="nav-item flex items-center px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 transition {% if request.endpoint == 'composer.schedule' %}bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400{% endif %}">
            <i class="fas fa-calendar-alt w-5"></i>
            <span class="ml-3">Schedule</span>
        </a>

        <a href="{{ url_for('campaigns.index') }}" class="nav-item flex items-center px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 transition {% if request.endpoint == 'campaigns.index' %}bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400{% endif %}">
            <i class="fas fa-rocket w-5"></i>
            <span class="ml-3">Campaigns</span>
        </a>

        <a href="{{ url_for('history.index') }}" class="nav-item flex items-center px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 transition {% if request.endpoint == 'history.index' %}bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400{% endif %}">
            <i class="fas fa-history w-5"></i>
            <span class="ml-3">History</span>
        </a>

        <a href="{{ url_for('settings.index') }}" class="nav-item flex items-center px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-gray-700 transition {% if request.endpoint == 'settings.index' %}bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400{% endif %}">
            <i class="fas fa-cog w-5"></i>
            <span class="ml-3">Settings</span>
        </a>
    </nav>

</aside>

<!-- Mobile Sidebar Toggle -->
<button id="sidebar-toggle" class="lg:hidden fixed bottom-6 left-6 z-50 w-12 h-12 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 flex items-center justify-center">
    <i class="fas fa-bars"></i>
</button>

<style>
    @media (max-width: 1024px) {
        #sidebar {
            left: -256px;
            transition: left 0.3s ease;
            z-index: 40;
        }
        
        #sidebar.active {
            left: 0;
        }
    }
</style>

<script>
const sidebarToggle = document.getElementById('sidebar-toggle');
const sidebar = document.getElementById('sidebar');

sidebarToggle.addEventListener('click', () => {
    sidebar.classList.toggle('active');
});

// Close sidebar when clicking nav items
document.querySelectorAll('.nav-item').forEach(item => {
    item.addEventListener('click', () => {
        if (window.innerWidth < 1024) {
            sidebar.classList.remove('active');
        }
    });
});

// Close sidebar when clicking outside
document.addEventListener('click', (e) => {
    if (window.innerWidth < 1024 && !sidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
        sidebar.classList.remove('active');
    }
});
</script>
